---
# common
ansible_ssh_common_args: "-o StrictHostKeyChecking=no"
icg_fqdn: icg.igelcommunity.com
icg_ums_filetransfer: /ums_filetransfer
auth_basic_user_file: /etc/nginx/.htpasswd
auth_basic_user_login: ums_filetransfer
# perl -le 'print crypt("ums_filetransfer_password", "salt")'
auth_basic_user_password: saL5PbfX1Endo
igelicg_internal_ip: srv-icg-01.dmz.igelcommunity.com

# base image user
base_user: "igel"
base_user_password: "igel"
base_sudo_pass: "igel"

# ansible user
ansible_user: igel
# "password"
ansible_user_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  31356363303238303235383362303535663164313462363065363135636261353533316361626230
  3261643039363961323061663264303466363833663938630a353835663064643430373335346539
  38313434386537373338653737663164316330333965393830383564313832323661326261633062
  3361333466303863370a393866363964343361666366383532356331326330656432386332646333
  6666

# default user
default_user: igel
# "password"
default_user_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  35646361613763623639376438633031626232386466306135376532343064313638353162663337
  3833643661323932383361303638323162383631363065610a613839636437646332356534656265
  64383234323533373232353833383034653666633435336332666464386538333833373661353138
  3932663864363337300a366532303837663362613732666366396661643336333763356633613566
  3637

# root user
# "password"
root_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37613864353433343463656665616465333161393330613366643133336332633637643639363937
  3837373133336131396262663631373432383561373765350a633831373263663634653936303862
  32623635656233376336326630366434646365323265343064343161663037326231613662636162
  6635363463623061340a396435343135646461383361316362396665396137306537333134323538
  6534

# default authorized key
default_authorized_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  38633531306134373539386663656433376231396663333365396466643265613137646432633463
  6632643633323937303539643564336335666565303036630a613263303365656365343936383963
  35656365306434373832396565396438306363306233373436343031633539643135326135353262
  6438386432373932310a346536363534623432643232646432646633626565313163306633326563
  37646262383866373830633865616161333237343232373163386466613665633832

# default privat key
default_id_rsa: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  31333766313461393239396562333736333865323664613839346565366366323231376233663834
  6661383566363563363462633536393834623531626537360a356531656661336135306535343931
  30313064386466333864386565383438373839666539353133633839393164623836326433386261
  3633643666323466350a363735323165353665376131386339376365366330326638623565636137
  3863

# default public key
default_id_rsa_pub: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  38633531306134373539386663656433376231396663333365396466643265613137646432633463
  6632643633323937303539643564336335666565303036630a613263303365656365343936383963
  35656365306434373832396565396438306363306233373436343031633539643135326135353262
  6438386432373932310a346536363534623432643232646432646633626565313163306633326563
  37646262383866373830633865616161333237343232373163386466613665633832

# robertdebock.bootstrap
bootstrap_user: "{{ default_user }}"
bootstrap_wait_for_host: yes

# robertdebock.users
users_user_list:
  - name: root
    password: "{{ root_password | string | password_hash('sha512', 'SecretSalt') }}"
  - name: "{{ default_user }}"
    sudo_options: "ALL=(ALL) NOPASSWD: ALL"
    authorized_keys:
      - "{{ default_authorized_key }}"

# weareinteractive.openssl
openssl_keys:
  - name: "{{ ssl_key_name }}"
    key: "{{ ssl_key }}"
openssl_certs:
  - name: "{{ ssl_crt_name }}"
    cert: "{{ ssl_crt }}"
openssl_keys_path: /etc/ssl/private
openssl_certs_path: /etc/ssl/private
openssl_default_key_owner: root
openssl_default_key_group: root
openssl_default_cert_owner: root
openssl_default_cert_group: root
openssl_cacert_import: yes

# geerlingguy.nginx
nginx_vhosts:
  - listen: "{{ nginx_port }} ssl http2"
    server_name: "{{ icg_fqdn }}"
    root: "{{ icg_ums_filetransfer }}"
    state: "present"
    template: "{{ nginx_vhost_template }}"
    filename: "{{ icg_fqdn }}.conf"
    extra_parameters: |
      location / {
        autoindex on;
      }
      ssl_certificate       /etc/ssl/private/{{ ssl_crt_name }};
      ssl_certificate_key   /etc/ssl/private/{{ ssl_key_name }};
      ssl_protocols         TLSv1.1 TLSv1.2;
      ssl_ciphers           HIGH:!aNULL:!MD5;
      auth_basic            "UMS Filetransfer";
      auth_basic_user_file  {{ auth_basic_user_file }};
nginx_server_tokens: "off"

# robertdebock.ntp
ntp_timezone: Europe/Berlin

# robertdebock.locale
locale_lang: de_DE.UTF-8
locale_timezone: Europe/Berlin

# weareinteractive.openssl
ssl_crt_name: igelcommunity.com.crt
ssl_crt: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  ...

ssl_key_name: igelcommunity.com.key
ssl_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  ...

# rheinwerk.install_root_ca_certs
root_ca_url: "https://www.igelcommunity.com/certificates/"
root_cas:
  - "RootCA.crt"
  - "IssuingCA01.crt"
  - "IssuingCA02.crt"
